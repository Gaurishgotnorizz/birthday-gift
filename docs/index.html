<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>🎀</title>
<link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
<style>
:root{
  --bg-start: #FFC0CB;
  --bg-end: #FFB6C1;
  --deep-heart: #b30059;
  --red-bow: #ff69b4;
  --z-bg: 0; 
  --z-fx: 1; 
  --z-content: 2;
}

html,body{height:100%; margin:0;}
body{
  font-family: "Poppins", sans-serif;
  background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
  color:#fff;
  text-align:center;
  overflow-x:hidden;
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  position: relative;
}

#fireworksCanvas {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 10000;
}

/* Overlay (name gate) */
#nameOverlay {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: pink;
  color: white;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}
#nameOverlay.fade-out { animation: fadeOut 1s forwards; }
@keyframes fadeOut { from {opacity:1;} to {opacity:0; visibility:hidden;} }

.overlay-content { text-align: center; }
#nameOverlay input {
  padding: 10px; font-size: 16px; margin-top: 10px; border-radius: 8px; border: none;
}
#nameOverlay button {
  padding: 10px 20px; font-size: 16px; margin-left: 10px; border-radius: 8px; border: none; background: white; color: black; cursor: pointer;
}

h1{
  font-family: "Pacifico", cursive;
  font-size: clamp(2.2rem, 4vw, 3.2rem);
  margin: 28px 12px 10px;
  text-shadow: 0 4px 18px rgba(179,0,89,0.3);
  letter-spacing: 1px;
}

.section{
  padding: 48px 18px;
  position: relative;
  z-index: 1;
}

.floatElem{
  position: fixed;
  left: 0;
  font-size: 1.4rem;
  transform-origin: center;
  z-index: var(--z-fx) !important;
  opacity: 0.95;
  will-change: transform, opacity;
}

.glass-box {
  background: rgba(255,255,255,0.08);
  padding:18px;
  max-width:559px;
  margin: 21px auto;
  border-radius:15px;
  backdrop-filter: blur(5px);
  box-shadow: 0 9px 25px rgba(255,150,180,0.06);
  text-shadow: 0 0 6px rgba(255, 105, 180, 0.8),
               0 0 12px rgba(255, 105, 180, 0.6);
  font-size:1.03rem;
  text-align: center;
}

.black-tint {
  background: rgba(80, 30, 80, 0.25);
  padding: 18px;
  max-width: 559px;
  margin: 21px auto;
  border-radius: 15px;
  backdrop-filter: blur(5px);
  box-shadow: 0 9px 25px rgba(0,0,0,0.15);
  text-shadow: 0 2px 4px rgba(0,0,0,0.4);
  font-size: 1.03rem;
  text-align: center;
}
	
#bgPolaroids {
  position: fixed; inset: 0;
  width: 100vw; height: 100vh;
  pointer-events: none;
  z-index: var(--z-bg) !important;
}
.bg-polaroid {
  position: absolute;
  width: 140px; height: 140px;
  object-fit: cover;
  border: 3px solid #fff;
  border-radius: 12px;
  box-shadow: 0 8px 22px rgba(179,0,89,0.12);
  transition: transform 3s ease-in-out;
  z-index: 0 !important;
}

.extra-polaroids {
  display: flex; justify-content: center; align-items: center;
  gap: 20px; margin: 30px 0;
}
.polaroid-round {
  position: relative; width: 180px; height: 180px;
  border-radius: 50%; overflow: visible;
  animation: floatUpDown 4s ease-in-out infinite alternate;
}
.polaroid-round img {
  width: 100%; height: 100%; border-radius: 50%;
  object-fit: cover; border: 4px solid #fff;
  box-shadow: 0 8px 20px rgba(255,105,180,0.15);
}
@keyframes floatUpDown { 0%{transform:translateY(0)} 100%{transform:translateY(-12px)} }
.sparkle-container { position:absolute; inset:0; pointer-events:none; overflow:visible; }

/* Gallery */
.gallery{
  display:flex; gap:14px; flex-wrap:wrap; justify-content:center; align-items:center;
}
.gallery img{
  width:150px; height:150px; object-fit:cover;
  border-radius:16px; border:3px solid rgba(255,255,255,0.15);
  box-shadow: 0 6px 18px rgba(255,158,181,0.12);
  cursor:pointer; transition: transform .25s ease, box-shadow .25s ease;
}
.gallery img:hover{ transform: translateY(-6px) scale(1.03); box-shadow: 0 10px 30px rgba(255,200,220,0.2); }

/* Reveal buttons + hidden pic area */
.unlock-row{ margin-top:22px; display:flex; gap:12px; justify-content:center; flex-wrap:wrap; }
.reveal-btn{
  background: linear-gradient(180deg,#ff69b4,#ff4ea1);
  color:white; border:none; padding:10px 18px; border-radius:24px;
  box-shadow: 0 6px 18px rgba(255,105,180,0.15);
  cursor:pointer; font-weight:600;
}
.hidden-pic{
  margin-top:16px; display:flex; justify-content:center; flex-wrap:wrap; gap:12px;
}
.hidden-pic img{
  width:180px; height:180px; object-fit:cover; border-radius:50%;
  border:3px solid #fff; box-shadow: 0 8px 30px rgba(179,0,89,0.12);
}

/* Letter */
.letter{
  background: rgba(255,255,255,0.08);
  padding:18px; max-width:560px; margin: 20px auto; border-radius:14px;
  backdrop-filter: blur(4px); box-shadow: 0 8px 26px rgba(255,150,180,0.06);
  text-shadow: 0 2px 5px rgba(200, 120, 255, 0.85);
  text-align:left; font-size:1.02rem;
}

/* Poem (scroll reveal) */
.poem { max-width:720px; margin: 40px auto; padding: 10px 20px 40px; }
.poem-line{
  opacity:0; transform: translateY(18px); transition: opacity 700ms ease, transform 700ms ease;
  color: #fff7fb; font-size: clamp(1rem, 1.6vw, 1.25rem); margin: 12px 0;
  text-shadow: 0 0 8px rgba(255,105,180,0.12);
}
.poem-line.visible{ opacity:1; transform: translateY(0); }

/* Emoji name placeholder */
.emoji-name{
  margin: 28px auto; font-size: clamp(1.4rem, 2.6vw, 2rem);
  color: #fff; text-shadow: 0 4px 14px rgba(255,105,180,0.2);
}

/* Hidden compliments box */
.compliments{
  max-width:560px; margin: 24px auto 60px; padding: 16px;
  background: rgba(255,255,255,0.06); border-radius:12px;
  border: 1px dashed rgba(255,255,255,0.08); cursor:pointer;
}
.compliments .text{ display:none; margin-top:12px; color:#fff6f9; font-weight:600; }

/* sparkle particles */
.particle{
  position:absolute; pointer-events:none; font-size:18px; will-change: transform, opacity; user-select:none; z-index: 9999 !important;
}

.polaroid.extra img {
  width:200px; height:220px; border-radius: 10px; display: block; margin: 20px auto;
}

@media (max-width:520px){
  .gallery img{ width:120px; height:120px; border-radius:12px; }
  .hidden-pic img{ width:150px; height:150px; }
  .bg-polaroid{ width:100px; height:100px; }
}

/* Keep content above bg + floaties */
.section, .letter, .poem, .emoji-name, .compliments, .unlock-row, .gallery, #videoContainer, #revealVideoBtn {
  position: relative; z-index: var(--z-content) !important;
}

/* Music toggle button (top-right) */
#musicBtn{
  position: fixed; top: 14px; right: 14px;
  z-index: 9000;
  background: rgba(255,255,255,0.15);
  border: 1px solid rgba(255,255,255,0.6);
  color: #fff; padding: 8px 12px; border-radius: 10px;
  cursor: pointer; backdrop-filter: blur(6px);
  font-weight: 600; box-shadow: 0 6px 18px rgba(255,105,180,0.15);
}
#musicBtn:hover{ background: rgba(255,255,255,0.28); }
</style>
</head>
<body>

<!-- NAME OVERLAY -->
<div id="nameOverlay">
  <div class="overlay-content">
    <h2>Please enter your full name</h2>
    <input type="text" id="nameInput" placeholder="Here, madam." />
    <button id="nameEnterBtn">Enter</button>
    <p id="errorMsg" style="color: red; display: none;">No darling, that ain't your correct name.</p>
  </div>
</div>

<audio id="bgMusic" preload="auto"  loop>
  <source src="ILYM.mp3" type="audio/mpeg">
</audio>
<button id="musicBtn" aria-pressed="false">🎵 Play</button>

<canvas id="fireworksCanvas"></canvas>

<div id="bgPolaroids" aria-hidden="true"></div>

<br><br><br>
<div class="section">
  <h1>🎀🎀 HAAPPPYYY BIRTTTHDAAYYY BWESSSTIEEEEE 🎀🎀</h1>
</div>
<br><br><br>
	
<div class="section">
  <div class="glass-box">
  <h2 style="font-family:Pacifico, cursive; margin-bottom:8px;">💕</h2>
  <p style="max-width:760px; margin:0 auto; color: #fff7fb;">
      📝 Name: Ms. Shagun Dixit <br>
	  🔪 Alias: Tingu badmos😼, Hampter🐹, Gurlboss💪, Missgurl👑, Short Human🎀 <br>
	  💌 Species: Human🦐(probably)
    
  </p>
  </div>
  <br><br><br>
</div>

<div class="section">
  <h2 style="font-family:Pacifico, cursive; margin-bottom:10px;">A HAPPIEST BIRTHDAY TO THE BEST SAHELI I COULD EVER GET</h2>
  <div class="gallery" id="gallery">
    <img src="Saheli10.jpg" alt="Add image here">
    <img src="Saheli13.jpg" alt="Add image here">
    <img src="Saheli4.jpg" alt="Add image here">
  </div>
  <br><br><br><br>
</div>

<div class="section">
  <h2 style="font-family:Pacifico, cursive; margin-bottom:8px;">💌A Letter for मेरी भोंदू सहेली 💕💕</h2>
  <br><br><br><br>
  <div class="letter">
   THE DAY FINALLY CAMEEE OMMGGGGGGGGGG YAYAYAYYAYAYAAYAYAYYYAYAYAYYAY💓💅🎀💗🤭😼🎀🪽💗❤💅💅<br>💅😼🎀🪽🎀✨HAPPIEST BIRTHDAY TO THE BESTEST GIRL BESTIE, BESTEST LISTENER AND YAPPER AND THE BESTEST SUPPORTER I WILL EVER HAVE IN MY NOT SO COOL LIFE✨✨🎀✨💅🗣️🛐🛐🎀✨🎀💓💅🎀💗🤭😼🎀🪽💗❤💅💅💕🗣️😼🤭🎀✨🪽🛐🪽🤭💓🎀🪽💗🪽🤭💓💅🪽💅🪽 <br>
   First of all, why I did all this? Well, it was you who said mehenga gift nhi lena h so I improvised and bina paise kharch kare hi ye bana liya 😝😝🤙🤙 
   Hu na mai smart(and nonchalant bhi😋)? 😝😝💅 <br>
   Okay but <br>
   HAPPY BIRTHDAY TO YOU GNG YOU MAKE ME SO HAPPY LIKE OMMGGG GURLL 😭😭🫂 <br>
   AND I LOVE YOUR VIBE AND HOW YOU ARE ALWAYS THERE TO LISTEN TO MY RANDI RONA EVEN THO YOU HAVE YOUR OWN PROBLEMS ❤️‍🩹❤️‍🩹❤️‍🩹 <br>
   Thank you for always being w me and never leaving my side even tho I lowkey don't deserve ts  <br>
   And for never making me feel bad for who I am <br>
    <br>
   ✨AND THANK YOU FOR BEING THE BESTEST SAHELI AND NEVER JUDGING ME EVEN THO I'M A WEIRDO AND ROTHDU✨✨🎀💓 LIKE FRR I'M SUCH A BIG ROTHDU <br>
    ✨🎀✨🗣️🛐🛐🎀✨🎀💓💅🎀💗🤭😼🎀🪽💗❤💅💅🤭🎀✨🪽🛐🪽🤭💓🎀🪽💅✨✨💅🗣️🛐🛐🎀✨🎀💓💅🎀💗🤭😼🎀🪽💗❤💅💅💕🗣️😼🤭🎀✨🪽🛐🪽🤭💓🎀💅🪽💅🪽🪽💅🪽 <br> I love you, chief <br>
  </div>
  <br><br><br><br>
</div>

<div class="section">
  <h2 style="font-family:Pacifico, cursive; margin-bottom:8px;">💕My favorite photos of MY BOONDI KA LADDU😼😼</h2>
  <div class="unlock-row">
    <button class="reveal-btn" onclick="revealPic(this,'Saheli1.jpg')">Click Me😝</button>
    <button class="reveal-btn" onclick="revealPic(this,'Saheli2.jpg')">😝And me too</button>
    <button class="reveal-btn" onclick="revealPic(this,'Saheli7.jpg')">😝</button>
    <button class="reveal-btn" onclick="revealPic(this,'Saheli8.jpg')">Me too, gurl💅</button>
    <button class="reveal-btn" onclick="revealPic(this,'Saheli5.jpg')">Okay last one😝</button>
  </div>
  <br><br><br><br>
  <div class="hidden-pic" id="hiddenPicContainer" aria-live="polite"></div>
</div>

<div class="section">
  <button id="revealVideoBtn" class="reveal-btn">For the best hg ever😝💅💅</button>
  <div id="videoContainer" style="display:none; margin-top:12px; text-align:center;">
    <video id="hiddenVideo" width="340" height="260" controls>
      <source src="SaheliVideo.mp4" type="video/mp4">
      Your browser cannot play this video 😢
    </video>
  </div>
  <br><br><br>
</div>

<div class="section poem" id="poemSection">
  <div class="glass-box">
    <h2 style="font-family:Pacifico, cursive; margin-bottom:8px;">💖💅Gng ts my favorite poem frfr💕💕</h2>
    <div class="poem-line">✨Who is this girl,</div>
    <div class="poem-line">Short and sassy.</div>
    <div class="poem-line">The girl I call my bestfriend,</div>
    <div class="poem-line">She's dumb, but classy.✨</div>
    <div class="poem-line">✨She's so beautiful</div>
    <div class="poem-line">Words can't explain.</div>
    <div class="poem-line">I have a lot to say,</div>
    <div class="poem-line">But let's keep it plain.✨</div>
    <div class="poem-line">✨She knows me so well,</div>
    <div class="poem-line">And I trust her a lot.</div>
    <div class="poem-line">Will I ever forget her?</div>
    <div class="poem-line">I'd rather say not.✨</div>
    <div class="poem-line">✨Her eyes hold innocence,</div>
    <div class="poem-line">And her voice is serene.</div>
    <div class="poem-line">I love my bestie so much,</div>
    <div class="poem-line">Like an endless loving machine.✨</div>
    <div class="poem-line">-Your saheli 😋</div>
  </div>
  <br><br><br><br>

  <div class="extra-polaroids">
    <div class="polaroid-round">
      <img src="Saheli19.jpg" alt="Extra Image 1">
      <div class="sparkle-container"></div>
    </div>
    <div class="polaroid-round">
      <img src="Saheli20.jpg" alt="Extra Image 2">
      <div class="sparkle-container"></div>
    </div>
  </div>
	<br><br><br><br>
</div>

<div class="section" style="padding-top:17px;">
  <div class="glass-box">
    <h2 style="font-family:Pacifico, cursive; margin-bottom:8px;">🌸</h2>
    <p style="color:#fff7fb; margin:0 auto; max-width:700px;">
   I still remember how our friendship started, how me replying to your story initiated our conversation, and how replying to your note with that that "what color is the sky? Ay, mi amor, ay, mi amor" trend to get the same energy back from you felt.<br>
   And I still remember that reel you sent me, saath nibhana saathiya ki clip jisme doctor ka apparatus was smth weird and uss time I didn't know what apparatus meant so I searched it up to reply to you <br>
   And I still cherish the day when you messaged me "Happy frndship day dadaji" on 6th August 2023, I was the happiest boy on the earth that time<br>
   I remember it all, the last week of december when we really started talking, the 3-4 months when I was in my lowest because you blocked me, the day I messaged you out of sadness, "I wish that you would stay in my memories" unaware of the fact that you didn't block that accout of mine, and the fact I tried to ignore you but I couldn't because my dumbass clicked your messages loll, I do remember it all <br>
   Oh and how grateful I am that you blocking me never ended our friendship, and how lucky I am to have YOU in my life, a supporter, a listener and a motivator, the kindest soul I ever met by my side. <br> <br>
   Thank you so much for always being w me, I owe you a lot <br>
   Till death do us part <br>
   Ilysm <3<br></p>
  </div>
<br><br><br>	
</div>

<div class="section">
  <div class="emoji-name">
    <div class="black-tint">
        🤩🎀🎀🎀🎀🎀🤩<br>
        🎀🤩🤩🤩🤩🤩🤩<br>
        🎀🤩🤩🤩🤩🤩🤩<br>
        🎀🤩🤩🤩🤩🤩🤩<br>
        🤩🎀🎀🎀🎀🎀🤩<br>
        🤩🤩🤩🤩🤩🤩🎀<br>
        🤩🤩🤩🤩🤩🤩🎀<br>
        🤩🤩🤩🤩🤩🤩🎀<br>
        🤩🎀🎀🎀🎀🎀🤩
		<br>
        <br>🌸<br>
        <br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🎀🎀🎀🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩
<br>
        <br>🌸<br>
        <br>
        🤩🤩🤩🎀🤩🤩🤩<br>
        🤩🤩🎀🤩🎀🤩🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🎀🤩🤩🤩🤩🤩🎀<br>
        🎀🎀🎀🎀🎀🎀🎀<br>
        🎀🤩🤩🤩🤩🤩🎀<br>
        🎀🤩🤩🤩🤩🤩🎀<br>
        🎀🤩🤩🤩🤩🤩🎀
<br>
        <br>🌸<br>
        <br>
        🤩🎀🎀🎀🎀🎀🤩<br>
        🎀🤩🤩🤩🤩🤩🎀<br>
        🎀🤩🤩🤩🤩🤩🤩<br>
        🎀🤩🤩🤩🎀🎀🤩<br>
        🎀🤩🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🤩🎀🎀🎀🎀🤩
<br>
        <br>🌸<br>
        <br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🎀🤩🤩🤩🎀🤩<br>
        🤩🤩🎀🎀🎀🤩🤩
<br>
        <br>🌸<br>
        <br>
        🎀🤩🤩🤩🤩🤩🎀<br>
        🎀🎀🤩🤩🤩🤩🎀<br>
        🎀🤩🎀🤩🤩🤩🎀<br>
        🎀🤩🤩🎀🤩🤩🎀<br>
        🎀🤩🤩🤩🎀🤩🎀<br>
        🎀🤩🤩🤩🤩🎀🎀<br>
        🎀🤩🤩🤩🤩🤩🎀
         <br>🌸<br>
    </div>
  </div>
	<br><br><br><br>
</div>

<div class="section">
  <div class="compliments" id="complimentsBox" onclick="toggleCompliments()" tabindex="0">
    🎀Click this gng🌸
	  <br><br>
    <div class="text" id="complimentText">
      <div class="glass-box">
        ANOTHER ONE CUZ I LOWKEY CAN'T STOP YAPPING 😭😭😭😭(you're the BEST LISTENER tho✨)<br>
        🎀✨THANK YOU SO MUCH FOR NEVER MAKING ME FEEL BAD FOR WHO I AM AND ALWAYS SUPPORTING ME 
        SPECIALLY WITH THE GYM WALI PHOTOS BECAUSE I LOWKEY HATE MY BODY (I have body dysmorphia loll)✨🎀 <br>
        💓✨AND ILYSM FOR BEING MY PILLAR OF STRENGTH CUZ ATP I LITERALLY NEED TO YAP TO YOU TO SUSTAIN MY LIFE NGL✨💓 <br>

        💗🎀✨✨ AND THANK YOU SO MUCH FOR BEING MY BESTIE, MY SAHELI, MY HOMEGIRL, MY SUPPORTER, 
        MY LIL HEADACHE AND THE REASON I ALWAYS OPEN MY PHONE EVEN WHEN I'M CRYING OR IN THE WORST OF THE MOOD 
        BECAUSE YOU, YOU ARE THE REASON I'M ALWAYS SMILING ✨✨🎀💗
      </div>
    </div>
  </div>
	<br><br><br><br>
</div>

<div class="section">
  <div class="glass-box">
    <div style="font-size:2.0rem; cursor:pointer;" onclick="document.getElementById('hiddenHeartMsg').style.display='block'">💗</div>
    <div id="hiddenHeartMsg" style="display:none; margin-top:12px; color:#fff7fb; font-weight:700;">
      I really hope you liked this, chief.<br> isme lowkey mehnat lagi thi, but every single second that I invested in this was worth it. <br> Kudos to all the thousands of sorrys and millions of gossips and bitching we've done, to the 2 years and 8 months of our friendship. <br> And yeah, uh, that's it, <br> 🎀my gurlboss🎀. <br> This is Gaurish, signing out.<br> A Very Happy Birthday &lt;3.
    </div>
  </div>
<br><br>
  <div class="glass-box" style="margin-top:18px;">
    <div style="font-size:0.55rem; cursor:pointer;" onclick="document.getElementById('hiddenHeartMsg').style.display='block'">
      🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀🎀✨✨🎀
    </div>
  </div>

  <div style="font-size:2.5rem;"><br><br><br><br><br><br><br><br><br><br><br><br></div>
</div>

<script>
/* -------------------------
   NAME CHECK + FIREWORKS
------------------------- */
function checkName() {
  const input = document.getElementById("nameInput").value.trim().toLowerCase();
  const correctName = "shagun dixit";
  if (input === correctName) {
    const overlay = document.getElementById("nameOverlay");
    overlay.classList.add("fade-out");
    launchFireworks();
    // enable music button visually after unlock (optional)
    document.getElementById('musicBtn').style.pointerEvents = 'auto';
    document.getElementById('musicBtn').style.opacity = '1';
  } else {
    document.getElementById("errorMsg").style.display = "block";
  }
}

document.getElementById("nameEnterBtn").addEventListener("click", checkName);
document.getElementById("nameInput").addEventListener("keypress", function (e) {
  if (e.key === "Enter") checkName();
});

function launchFireworks() {
  const canvas = document.getElementById("fireworksCanvas");
  const ctx = canvas.getContext("2d");
  canvas.width = window.innerWidth;
  canvas.height = window.innerHeight;

  let particles = [];
  const colors = ["#ff4b5c", "#ffb347", "#47ff8c", "#47d1ff", "#d447ff", "#fff176", "#fff050","#ccc047", "#13316b", "#a81625", "#120609"];

  function Particle(x, y) {
    this.x = x;
    this.y = y;
    this.length = Math.random() * 20 + 25;
    this.angle = Math.random() * Math.PI * 3;
    this.speed = Math.random() * 7 + 5;
    this.color = colors[Math.floor(Math.random() * colors.length)];
    this.alpha = 1;

    this.update = function () {
      this.x += Math.cos(this.angle) * this.speed;
      this.y += Math.sin(this.angle) * this.speed;
      this.alpha -= 0.009;
    };

    this.draw = function () {
      ctx.save();
      ctx.globalAlpha = this.alpha;
      ctx.strokeStyle = this.color;
      ctx.shadowBlur = 16;
      ctx.shadowColor = this.color;
      ctx.beginPath();
      ctx.moveTo(this.x, this.y);
      ctx.lineTo(
        this.x - Math.cos(this.angle) * this.length,
        this.y - Math.sin(this.angle) * this.length
      );
      ctx.stroke();
      ctx.restore();
    };
  }

  function createFirework() {
    const x = canvas.width / 2;
    const y = canvas.height / 2;
    for (let i = 0; i < 150; i++) {
      particles.push(new Particle(x, y));
    }
  }

  function animate() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    particles.forEach((p, i) => {
      p.update();
      p.draw();
      if (p.alpha <= 0) particles.splice(i, 3);
    });
    if (particles.length > 0) requestAnimationFrame(animate);
    else ctx.clearRect(0, 0, canvas.width, canvas.height);
  }

  createFirework();
  animate();
}

/* -------------------------
   FLOATING HEARTS/BOWS
------------------------- */
(function startFloaties(){
  const symbols=['💗','🎀'], colors=['#b30059','#ff3366','#FFF050','#E6E6FA','#ADD8E6','#98FF98','#008080','#880808'];
  function spawn(){
    const el=document.createElement('div');
    el.className='floatElem';
    const sym=symbols[Math.floor(Math.random()*symbols.length)];
    el.textContent=sym;
    el.style.color=colors[Math.floor(Math.random()*colors.length)];
    el.style.fontSize=(18+Math.random()*18)+'px';
    el.style.left=(Math.random()*96)+'vw';
    el.style.top='100%';
    document.body.appendChild(el);

    const distY = 100 + Math.random()*200;
    const distX = (Math.random()-0.5)*60;
    const duration = 5000 + Math.random()*4000;
    const start = performance.now();

    (function animate(t){
      const elapsed = t-start;
      const progress = Math.min(elapsed/duration,1);
      el.style.transform=`translate(${distX*progress}px, -${distY*progress}px) scale(${1-progress*0.2})`;
      el.style.opacity = String(1-progress);
      if(progress<1) requestAnimationFrame(animate);
      else el.remove();
    })(start);
  }
  setInterval(spawn, 300);
})();

/* -------------------------
   POEM REVEAL
------------------------- */
(function poemReveal(){
  const lines=document.querySelectorAll('.poem-line');
  const obs=new IntersectionObserver((entries)=>{
    entries.forEach(entry=>{ if(entry.isIntersecting) entry.target.classList.add('visible'); });
  }, {threshold:0.2});
  lines.forEach(l=>obs.observe(l));
})();

/* -------------------------
   COMPLIMENTS TOGGLE
------------------------- */
function toggleCompliments(){
  const text=document.getElementById('complimentText');
  text.style.display=(text.style.display==='block')?'none':'block';
}

/* -------------------------
   REVEAL HIDDEN PHOTOS
------------------------- */
let currentlyShownImg=null;
function revealPic(button,imgSrc){
  const container=document.getElementById('hiddenPicContainer');
  if(currentlyShownImg){
    currentlyShownImg.style.opacity=0;
    setTimeout(()=>{container.innerHTML=''; showNewImg(container,imgSrc,button);},500);
  }else showNewImg(container,imgSrc,button);
}
function showNewImg(container,imgSrc,button){
  const img=document.createElement('img');
  img.src=imgSrc;
  img.style.opacity=0;
  container.appendChild(img);
  container.style.display='flex';
  setTimeout(()=>img.style.opacity=1,50);
  currentlyShownImg=img;
}

/* -------------------------
   GALLERY CLICK FIREWORKS
------------------------- */
document.querySelectorAll('.gallery img').forEach(img=>{
  img.addEventListener('click',()=>{
    const rect=img.getBoundingClientRect();
    createFireworks(rect.left+rect.width/2, rect.top+rect.height/2);
  });
});
function createFireworks(cx,cy){
  const symbols=['✨','💅'], count=22;
  for(let i=0;i<count;i++){
    const el=document.createElement('div');
    el.className='particle';
    el.textContent=symbols[Math.random()>0.5?0:1];
    el.style.left=cx+'px';
    el.style.top=cy+'px';
    el.style.opacity=1;
    el.style.fontSize=(12+Math.random()*18)+'px';
    document.body.appendChild(el);
    const angle=Math.random()*Math.PI*2;
    const dist=40+Math.random()*120;
    const duration=700+Math.random()*500;
    const dx=Math.cos(angle)*dist;
    const dy=Math.sin(angle)*dist;
    const start=performance.now();
    (function frame(t){
      const elapsed=t-start;
      const progress=Math.min(elapsed/duration,1);
      el.style.transform=`translate(${dx*progress}px, ${dy*progress}px) scale(${1-progress*0.6})`;
      el.style.opacity=String(1-progress);
      if(progress<1) requestAnimationFrame(frame);
      else el.remove();
    })(start);
  }
}

/* -------------------------
   SPARKLE CURSOR TRAIL
------------------------- */
(function sparkleTrail(){
  let timeout;
  document.addEventListener('mousemove',(e)=>{
    if(timeout) clearTimeout(timeout);
    spawnSparkle(e.pageX,e.pageY);
    timeout=setTimeout(()=>timeout=null,30);
  });
  function spawnSparkle(x,y){
    const el=document.createElement('div');
    el.className='particle';
    el.style.left=x+'px';
    el.style.top=y+'px';
    el.style.fontSize=(12+Math.random()*10)+'px';
    el.textContent=Math.random()>0.5?'✨':'💅';
    document.body.appendChild(el);
    const duration=800+Math.random()*500;
    const dx=(Math.random()-0.5)*20;
    const dy=-10-Math.random()*20;
    const start=performance.now();
    (function frame(t){
      const elapsed=t-start;
      const p=Math.min(elapsed/duration,1);
      el.style.transform=`translate(${dx*p}px, ${dy*p}px) scale(${1-p*0.4})`;
      el.style.opacity=String(1-p);
      if(p<1) requestAnimationFrame(frame);
      else el.remove();
    })(start);
  }
})();

/* -------------------------
   BACKGROUND POLAROIDS
------------------------- */
(function backgroundPolaroids(){
  const container=document.getElementById('bgPolaroids'), positions=[], total=7;
  const screenWidth=window.innerWidth, screenHeight=window.innerHeight, polaroidSize=140;
  function isTooClose(x,y){ return positions.some(p=> Math.abs(p.x-x)<polaroidSize+10 && Math.abs(p.y-y)<polaroidSize+10 ); }
  for(let i=0;i<total;i++){
    let x,y,tries=0;
    do{ x=Math.random()*(screenWidth-polaroidSize); y=Math.random()*(screenHeight-polaroidSize); tries++; } while(isTooClose(x,y)&&tries<100);
    positions.push({x,y});
    const img=document.createElement('img');
    img.src=`bg${i+1}.jpg`;
    img.className='bg-polaroid';
    img.style.left=x+'px';
    img.style.top=y+'px';
    container.appendChild(img);
    const amplitude=6+Math.random()*8, speed=2000+Math.random()*4000;
    let direction=1;
    setInterval(()=>{ img.style.transform=`translateY(${direction*amplitude}px)`; direction*=-1; }, speed);
  }
})();

/* -------------------------
   VIDEO REVEAL TOGGLE
------------------------- */
const revealVideoBtn = document.getElementById('revealVideoBtn');
const videoContainer = document.getElementById('videoContainer');
const hiddenVideo = document.getElementById('hiddenVideo');

revealVideoBtn.addEventListener('click', () => {
  if (videoContainer.style.display === 'none') {
    videoContainer.style.display = 'block';
    hiddenVideo.play();
    revealVideoBtn.textContent = 'You can close ts if you want ';
  } else {
    videoContainer.style.display = 'none';
    hiddenVideo.pause();
    hiddenVideo.currentTime = 0;
    revealVideoBtn.textContent = 'For the best hg ever😝💅💅';
  }
});

/* -------------------------
   SPARKLES ON EXTRA POLAROIDS
------------------------- */
(function sparkleExtraPolaroids(){
  const polaroids = document.querySelectorAll('.polaroid-round');
  const symbols = ['✨','💖','💅'];
  polaroids.forEach(p => {
    setInterval(() => {
      const sparkle = document.createElement('div');
      sparkle.className = 'particle';
      sparkle.textContent = symbols[Math.floor(Math.random()*symbols.length)];
      sparkle.style.position = 'absolute';
      sparkle.style.fontSize = (8 + Math.random()*12) + 'px';
      sparkle.style.left = (Math.random()*100) + '%';
      sparkle.style.top = (Math.random()*100) + '%';
      sparkle.style.opacity = 1;
      p.querySelector('.sparkle-container').appendChild(sparkle);

      const duration = 600 + Math.random()*400;
      const dx = (Math.random()-0.5)*20;
      const dy = (Math.random()-0.5)*20;

      const start = performance.now();
      (function frame(t){
        const elapsed = t-start;
        const progress = Math.min(elapsed/duration,1);
        sparkle.style.transform = `translate(${dx*progress}px, ${dy*progress}px) scale(${1-progress*0.5})`;
        sparkle.style.opacity = String(1-progress);
        if(progress<1) requestAnimationFrame(frame);
        else sparkle.remove();
      })(start);
    }, 200 + Math.random()*300);
  });
})();

/* -------------------------
   MUSIC TOGGLE WITH FADE
------------------------- */
const music = document.getElementById('bgMusic');
const musicBtn = document.getElementById('musicBtn');

// Start with button enabled but overlay is above it anyway.
// If you want it semi-disabled before unlock:
musicBtn.style.pointerEvents = 'auto';
musicBtn.style.opacity = '1';

let fading = null; // interval id

function fadeTo(targetVol, ms, onDone){
  if (fading) { clearInterval(fading); fading = null; }
  const steps = 20;
  const stepTime = Math.max(15, Math.floor(ms/steps));
  const startVol = music.volume;
  const delta = targetVol - startVol;
  let i = 0;
  fading = setInterval(()=>{
    i++;
    const v = startVol + (delta * (i/steps));
    music.volume = Math.min(1, Math.max(0, v));
    if (i >= steps){
      clearInterval(fading); fading = null;
      if (onDone) onDone();
    }
  }, stepTime);
}

music.volume = 0; // start silent (until play)
let isPlaying = false;

musicBtn.addEventListener('click', async ()=>{
  if (!isPlaying){
    try{
      // Some browsers need a user gesture (this is one).
      await music.play();
      isPlaying = true;
      musicBtn.setAttribute('aria-pressed','true');
      musicBtn.textContent = '⏸️ Music';
      fadeTo(1, 800);
    }catch(e){
      // If autoplay policy blocks, show a hint
      alert('Tap again to allow audio to play.');
    }
  } else {
    fadeTo(0, 800, ()=>{
      music.pause();
      isPlaying = false;
      musicBtn.setAttribute('aria-pressed','false');
      musicBtn.textContent = '🎵 Play';
    });
  }
});
</script>
</body>
</html>









